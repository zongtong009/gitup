!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.NTESAntAnalysis=e():t.NTESAntAnalysis=e()}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}([function(t,e,n){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="2.2.0",r=n(1),s=n(2),c=n(3);n(4);var a=n(5);function u(t){for(var e=document.cookie,n=t+"=",o=e.length,i=0;i<o;){var r=i+n.length;if(e.substring(i,r)==n){var s=e.indexOf(";",r);return-1==s&&(s=o),decodeURI(e.substring(r,s))}if(0==(i=e.indexOf(" ",i)+1))break}return-1}function h(t,e,n){document.cookie=t+"="+e+"; expires=-1; path=/; domain="+(n||document.domain)}function f(){return/baiduspider/gi.test(navigator.userAgent)}function l(t){if(!t)return t;for(var e=1,n=arguments.length;e<n;e++){var o=arguments[e];if(o)for(var i in o)void 0===t[i]&&(t[i]=o[i])}return t}function d(t,e){var n=u(t),o=u(e);return-1==n?-1==o?"":o:n}var p,m,g,w,b,v,y,_,T,I,E=navigator.userAgent,O=(g=p||window.location.search,w=m||window.location.hash,b=function(t,e){var n={};return t?(t.replace(e,function(t,e,o,i){n[e]=i}),n):null},{search:b(g,new RegExp("([^?=&]+)(=([^&]*))?","g"))||{},hash:b(w,new RegExp("([^#=&]+)(=([^&]*))?","g"))||{}}).search,R=function(){var t=document.referrer,e="",n="";if(t){var o=t.match(/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)([^\/]+).*?/);e=o&&o[2]?o[2]:e}e&&(n=e,[{test:/163\.com$/i,domain:"163"},{test:/baidu\.com$/i,domain:"baidu"},{test:/sm\.cn$/i,domain:"sm"},{test:/sogou\.com$/i,domain:"sogou"},{test:/so\.com$/i,domain:"360"},{test:/google/i,domain:"google"},{test:/bing/i,domain:"bing"},{test:/weibo/i,domain:"weibo"},{test:/toutiao/i,domain:"toutiao"}].some(function(t){return!!t.test.test(e)&&(n=t.domain,!0)}));var i=O.referFrom;/referFrom/.test(window.location.search)&&"163"==n&&(n=i||"");return n}(),x={},S=!1,A=10,D=O.spss?O.spss:E.match(/newsapp/gi)?"native":R.match(/163.com/gi)?"163":"other",L="h5.analytics.126.net/news/c",M="h5.analytics.126.net/news/g",U=(/android/i.test(E),/iphone|ipad|ipod/i.test(E)),k=/QQ\//i.test(E),q=/MicroMessenger/i.test(E),j=/yixin/i.test(E),C=/newsapp/i.test(E),N=/lx-palmchat/i.test(E),F=/WiFiKey/i.test(E),H=/weibo/i.test(E),P=/baidu/i.test(E),B=/UCBrowser/i.test(E),V=/Sogou/i.test(E),z=/NewsArticle/i.test(E)||/TTWebView/i.test(E),W=U?/MQQBrowser/i.test(E):!(!/MQQBrowser/i.test(E)||k||q);function Q(){if(!y){var t="";try{t=window.localStorage&&window.localStorage.getItem("ntesSpsuid")}catch(t){console.log(t.message,t.name,t.stack)}if(-1==u("_ntes_nuid"))y=v;else{y=u("_ntes_nuid");try{window.localStorage&&window.localStorage.setItem("ntesSpsuid",y)}catch(t){console.log(t.message,t.name,t.stack)}}if(!(y=t||y)){h("_ntes_nuid",y=r(),".163.com");try{window.localStorage&&window.localStorage.setItem("ntesSpsuid",y)}catch(t){console.log(t.message,t.name,t.stack)}}}return y}function $(){if(!_){_=parseInt(O.spsw)||0;var t=!1;O.spssid==y&&(t=!0),t||(_+=1)}return _}function G(t){var e,n,o,r,s,c,a,f=u("_antanalysis_s_id");if(-1==f){var p=(new Date).getTime();h("_antanalysis_s_id",p),f=p}(function(t,e){if(t){var n=t.val_act;/^(exposure|click_ad)/.test(n)&&(e.type="exposure")}})(t,e={sdk_ver:i,session_id:f,deviceInfo:x,ct:T,source:D,uuid:y,channel:O.spsc?O.spsc:"",val_act:"",val_url:window.location.href,uid:d("P_INFO","P_OINFO").split("|")[0],uname:"",val_ref:O.referrerURL,val_ref_from:O.referrerFrom,sc:screen.width+"*"+screen.height,info:{spstitle:O.title,spssid:O.spssid?O.spssid:"",spsw:parseInt(O.spsw)?parseInt(O.spsw):0,ptime:""!==O.publishTime?(n=O.publishTime,-480,o=(new Date).getTimezoneOffset(),r=-480-o,s=n.split(/[- :]/),c=n?new Date(s[0],s[1]-1,s[2],s[3],s[4],s[5]).getTime():(new Date).getTime(),a=new Date(c+60*r*1e3),a.getTime().toString()):""}}),t&&t.info&&(t.info=l(t.info,e.info));var m=l(t,e);return m.callback&&delete m.callback,m.host&&delete m.host,window.params=m,m}function J(t,e){t.tm=(new Date).getTime();var n=encodeURIComponent(JSON.stringify(t)),o="http:";"https:"==window.location.protocol&&(o="https:");var i=o+"//"+(e||L)+"?"+n,r="ntes_ant_"+(new Date).getTime();(window[r]=new Image).src=i}O.title=document.title,O.currentURL=document.location.href,O.referrerURL=document.referrer,O.referrerFrom=R,O.publishTime=document.documentElement.getAttribute("data-publishtime")||"",window.addEventListener("message",function(t){t.origin.match("c.m.163.com")&&(v=t.data.ntesSpsuid)},!1),document.addEventListener("DOMContentLoaded",function(t){var e;(e=document.createElement("iframe")).setAttribute("src","https://c.m.163.com/nc/qa/uid.html"),e.setAttribute("tabindex",-1),e.setAttribute("style","display:none;"),e.setAttribute("class","ntesanalysis-sync-iframe"),document.body.insertBefore(e,document.body.children[0])}),y=Q(),_=$(),I="",q?I=O.from?"wx:"+O.from.split("#")[0]:"wx":H?I="wb":j?I="yx":k?I="qq":C?I="newsapp":N?I="lianxin":F?I="wfkey":P?I="baidu":z?I="toutiao":W?I="qqBrowser":B?I="uc":V?I="sogou":O.referrerFrom.match(/weibo/)?I="wb":(O.referrerFrom.match(/qq/)||O.referrerFrom.match(/qzone\.com/))&&(I="qq"),T=I,s(function(t){t&&t.u&&(t.u=encodeURIComponent(t.u)),x=t,S=!0}),t.exports={version:i,sendData:function t(e){var n=arguments[1]||0;if(!f()){if(!S&&n<A)return setTimeout(function(){t(e,++n)},200),!1;var o=e.callback,i=e.host;J(G(e),i),e&&o&&o()}},observer:a,postData:function(t){var e,n=t.callback,i=t.host||M;if(!f()&&"object"===o(t)){if("[object Array]"===Object.prototype.toString.call(t)){e=[];for(var r=0;r<t.length;r++)e.push(G(t[r]))}else e=G(t);c(i,e,J),t&&n&&n()}},config:function(t){var e=t&&t.host,n=t&&t.postHost;e&&(L=e),n&&(M=n)},getShareLink:function(t){t&&(t=function(t){var e,n="",o=["spssid","spsw","spss","spsc"];for(e=0;e<o.length;e++)-1==t.indexOf(o[e])&&O[o[e]]&&(n+=o[e]+"="+O[o[e]]),e!=o.length-1&&n&&(n+="&");return n&&(-1!=t.indexOf("?")?t+="&"+n:t+="?"+n),-1==t.indexOf("http")&&(t="http://"+t),t}(t));var e="",n=t||window.location.href,o="";if(window.URL)o=new URL(n);else{if(!window.webkitURL)return n;o=new webkitURL(n)}if(o.search){var i=o.search;(e=i.match(/spssid=\w+/g)?i.replace(/spssid=\w+/g,"spssid="+y):i+"&spssid="+y).match(/spsw=\d+/g)?e=e.replace(/spsw=\d+/g,"spsw="+_):e+="&spsw=1",e.match(/spss=\w+/g)||(e=e+"&spss="+D),e=o.origin+o.pathname+e+o.hash}else e=o.origin+o.pathname+"?spssid="+y+"&spsw=1&spss="+D+o.hash;return e},info:{uid:Q(),spsuid:Q(),spsw:$()}}},function(t,e){t.exports=function(){var t=8,e=0;function n(t,e,n,o,i,r){return c(function(t,e){return t<<e|t>>>32-e}(c(c(e,t),c(o,r)),i),n)}function o(t,e,o,i,r,s,c){return n(e&o|~e&i,t,e,r,s,c)}function i(t,e,o,i,r,s,c){return n(e&i|o&~i,t,e,r,s,c)}function r(t,e,o,i,r,s,c){return n(e^o^i,t,e,r,s,c)}function s(t,e,o,i,r,s,c){return n(o^(e|~i),t,e,r,s,c)}function c(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}var a=new Date,u=document.body.clientWidth+":"+document.body.clientHeight;return function(n){return function(t){for(var n=e?"0123456789ABCDEF":"0123456789abcdef",o="",i=0;i<4*t.length;i++)o+=n.charAt(t[i>>2]>>i%4*8+4&15)+n.charAt(t[i>>2]>>i%4*8&15);return o}(function(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,a=-271733879,u=-1732584194,h=271733878,f=0;f<t.length;f+=16){var l=n,d=a,p=u,m=h;n=o(n,a,u,h,t[f+0],7,-680876936),h=o(h,n,a,u,t[f+1],12,-389564586),u=o(u,h,n,a,t[f+2],17,606105819),a=o(a,u,h,n,t[f+3],22,-1044525330),n=o(n,a,u,h,t[f+4],7,-176418897),h=o(h,n,a,u,t[f+5],12,1200080426),u=o(u,h,n,a,t[f+6],17,-1473231341),a=o(a,u,h,n,t[f+7],22,-45705983),n=o(n,a,u,h,t[f+8],7,1770035416),h=o(h,n,a,u,t[f+9],12,-1958414417),u=o(u,h,n,a,t[f+10],17,-42063),a=o(a,u,h,n,t[f+11],22,-1990404162),n=o(n,a,u,h,t[f+12],7,1804603682),h=o(h,n,a,u,t[f+13],12,-40341101),u=o(u,h,n,a,t[f+14],17,-1502002290),a=o(a,u,h,n,t[f+15],22,1236535329),n=i(n,a,u,h,t[f+1],5,-165796510),h=i(h,n,a,u,t[f+6],9,-1069501632),u=i(u,h,n,a,t[f+11],14,643717713),a=i(a,u,h,n,t[f+0],20,-373897302),n=i(n,a,u,h,t[f+5],5,-701558691),h=i(h,n,a,u,t[f+10],9,38016083),u=i(u,h,n,a,t[f+15],14,-660478335),a=i(a,u,h,n,t[f+4],20,-405537848),n=i(n,a,u,h,t[f+9],5,568446438),h=i(h,n,a,u,t[f+14],9,-1019803690),u=i(u,h,n,a,t[f+3],14,-187363961),a=i(a,u,h,n,t[f+8],20,1163531501),n=i(n,a,u,h,t[f+13],5,-1444681467),h=i(h,n,a,u,t[f+2],9,-51403784),u=i(u,h,n,a,t[f+7],14,1735328473),a=i(a,u,h,n,t[f+12],20,-1926607734),n=r(n,a,u,h,t[f+5],4,-378558),h=r(h,n,a,u,t[f+8],11,-2022574463),u=r(u,h,n,a,t[f+11],16,1839030562),a=r(a,u,h,n,t[f+14],23,-35309556),n=r(n,a,u,h,t[f+1],4,-1530992060),h=r(h,n,a,u,t[f+4],11,1272893353),u=r(u,h,n,a,t[f+7],16,-155497632),a=r(a,u,h,n,t[f+10],23,-1094730640),n=r(n,a,u,h,t[f+13],4,681279174),h=r(h,n,a,u,t[f+0],11,-358537222),u=r(u,h,n,a,t[f+3],16,-722521979),a=r(a,u,h,n,t[f+6],23,76029189),n=r(n,a,u,h,t[f+9],4,-640364487),h=r(h,n,a,u,t[f+12],11,-421815835),u=r(u,h,n,a,t[f+15],16,530742520),a=r(a,u,h,n,t[f+2],23,-995338651),n=s(n,a,u,h,t[f+0],6,-198630844),h=s(h,n,a,u,t[f+7],10,1126891415),u=s(u,h,n,a,t[f+14],15,-1416354905),a=s(a,u,h,n,t[f+5],21,-57434055),n=s(n,a,u,h,t[f+12],6,1700485571),h=s(h,n,a,u,t[f+3],10,-1894986606),u=s(u,h,n,a,t[f+10],15,-1051523),a=s(a,u,h,n,t[f+1],21,-2054922799),n=s(n,a,u,h,t[f+8],6,1873313359),h=s(h,n,a,u,t[f+15],10,-30611744),u=s(u,h,n,a,t[f+6],15,-1560198380),a=s(a,u,h,n,t[f+13],21,1309151649),n=s(n,a,u,h,t[f+4],6,-145523070),h=s(h,n,a,u,t[f+11],10,-1120210379),u=s(u,h,n,a,t[f+2],15,718787259),a=s(a,u,h,n,t[f+9],21,-343485551),n=c(n,l),a=c(a,d),u=c(u,p),h=c(h,m)}return Array(n,a,u,h)}(function(e){for(var n=new Array,o=(1<<t)-1,i=0;i<e.length*t;i+=t)n[i>>5]|=(e.charCodeAt(i/t)&o)<<i%32;return n}(n),n.length*t))}(function(t){var e,n="";for(e=0;e<t.length;e++){var o=t.charCodeAt(e),i="";if(o>255){for(;o>=1;)i="0123456789".charAt(o%10)+i,o/=10;""==i&&(i="0"),i="&"+(i="#"+i),n+=i+=";"}else n+=t.charAt(e)}return n}(a.getTime()+document.location+screen.width+screen.height+navigator.userAgent+Math.random()+u))}},function(t,e){var n=function(){};t.exports=function(t){var e,o;navigator&&navigator.userAgent&&navigator.userAgent.match(/newsapp/i)?(!function(t,e){if(window[t]&&window[t]!==n){var o=window[t];window[t]=function(){e&&e.apply(this,arguments),o.apply(this,arguments)}}else window[t]=function(){e&&e.apply(this,arguments),window[t]=n}}("__newsapp_device_done",t),e="device://",(o=document.createElement("iframe")).style.display="none",o.src=e,document.body.appendChild(o),setTimeout(function(){document.body.removeChild(o)},3e3)):t.apply(window,null)}},function(t,e){var n,o,i=50,r={postURL:"",httpGet:void 0},s=(o={},{subscribe:function(t,e){o[t]||(o[t]=[]),o[t].push(e)},publish:function(t,e){if(o[t]&&o[t].length){var n,i=o[t];for(n=0;n<i.length;n++)i[n](e)}}}),c="data_into_queue";function a(t){this.store=[],this.batchSize=t}function u(){n.isEmpty()||h(r.postURL,n.store)}function h(t,e){var n=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=encodeURIComponent(JSON.stringify(t[n]));return JSON.stringify(e)}(e);if(window.fetch)fetch(t,{method:"POST",credentials:"include",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json; charset=utf-8"},body:n});else if(window.XMLHttpRequest){var o=new XMLHttpRequest;o.open("POST",t,!0),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.send(n)}else for(var i=0;i<e.length;i++)r.httpGet(e[i])}a.prototype={constructor:a,size:function(){return this.store.length},enqueue:function(t){"[object Object]"===Object.prototype.toString.call(t)&&this.store.push(t),"[object Array]"===Object.prototype.toString.call(t)&&(this.store=this.store.concat(t))},dequeue:function(){for(var t=[],e=0,n=this.size();e<n&&e<this.batchSize;)t.push(this.store.shift()),e++;return t},isEmpty:function(){return 0===this.size()}},n=new a(10),window.addEventListener?window.addEventListener("beforeunload",u,!1):window.attachEvent&&window.attachEvent("onbeforeunload",u),s.subscribe(c,function(){for(var t=0;!n.isEmpty();)s.publish("data_out_queue",{aryData:n.dequeue(),batchIdx:t++})}),s.subscribe("data_out_queue",function(t){t.aryData.length>0&&setTimeout(function(){h(r.postURL,t.aryData)},t.batchIdx*i)}),t.exports=function(t,e,o){r.postURL=window.location.protocol+"//"+t,r.httpGet=o,n.enqueue(e),setTimeout(function(){s.publish(c)},1e3)}},function(t,e){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=function(t){for(var e=window.document,n=i(e);n;)n=i(e=n.ownerDocument);return e}(),e=[],n=null,o=null;s.prototype.THROTTLE_TIMEOUT=100,s.prototype.POLL_INTERVAL=null,s.prototype.USE_MUTATION_OBSERVER=!0,s._setupCrossOriginUpdater=function(){return n||(n=function(t,n){o=t&&n?f(t,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},e.forEach(function(t){t._checkForIntersections()})}),n},s._resetCrossOriginUpdater=function(){n=null,o=null},s.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},s.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},s.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},s.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},s.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},s.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},s.prototype._monitorIntersections=function(e){var n=e.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(e)){var o=this._checkForIntersections,r=null,s=null;if(this.POLL_INTERVAL?r=n.setInterval(o,this.POLL_INTERVAL):(c(n,"resize",o,!0),c(e,"scroll",o,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(s=new n.MutationObserver(o)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push(function(){var t=e.defaultView;t&&(r&&t.clearInterval(r),a(t,"resize",o,!0)),a(e,"scroll",o,!0),s&&s.disconnect()}),e!=(this.root&&this.root.ownerDocument||t)){var u=i(e);u&&this._monitorIntersections(u.ownerDocument)}}},s.prototype._unmonitorIntersections=function(e){var n=this._monitoringDocuments.indexOf(e);if(-1!=n){var o=this.root&&this.root.ownerDocument||t;if(!this._observationTargets.some(function(t){var n=t.element.ownerDocument;if(n==e)return!0;for(;n&&n!=o;){var r=i(n);if((n=r&&r.ownerDocument)==e)return!0}return!1})){var r=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),r(),e!=o){var s=i(e);s&&this._unmonitorIntersections(s.ownerDocument)}}}},s.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var e=0;e<t.length;e++)t[e]()},s.prototype._checkForIntersections=function(){if(this.root||!n||o){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(o){var i=o.element,s=u(i),c=this._rootContainsTarget(i),a=o.entry,h=t&&c&&this._computeTargetAndRootIntersection(i,s,e),f=o.entry=new r({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:s,rootBounds:n&&!this.root?null:e,intersectionRect:h});a?t&&c?this._hasCrossedThreshold(a,f)&&this._queuedEntries.push(f):a&&a.isIntersecting&&this._queuedEntries.push(f):this._queuedEntries.push(f)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},s.prototype._computeTargetAndRootIntersection=function(e,i,r){if("none"!=window.getComputedStyle(e).display){for(var s,c,a,h,l,p,m,g,w=i,b=d(e),v=!1;!v&&b;){var y=null,_=1==b.nodeType?window.getComputedStyle(b):{};if("none"==_.display)return null;if(b==this.root||9==b.nodeType)if(v=!0,b==this.root||b==t)n&&!this.root?!o||0==o.width&&0==o.height?(b=null,y=null,w=null):y=o:y=r;else{var T=d(b),I=T&&u(T),E=T&&this._computeTargetAndRootIntersection(T,I,r);I&&E?(b=T,y=f(I,E)):(b=null,w=null)}else{var O=b.ownerDocument;b!=O.body&&b!=O.documentElement&&"visible"!=_.overflow&&(y=u(b))}if(y&&(s=y,c=w,a=void 0,h=void 0,l=void 0,p=void 0,m=void 0,g=void 0,a=Math.max(s.top,c.top),h=Math.min(s.bottom,c.bottom),l=Math.max(s.left,c.left),p=Math.min(s.right,c.right),g=h-a,w=(m=p-l)>=0&&g>=0&&{top:a,bottom:h,left:l,right:p,width:m,height:g}||null),!w)break;b=b&&d(b)}return w}},s.prototype._getRootRect=function(){var e;if(this.root)e=u(this.root);else{var n=t.documentElement,o=t.body;e={top:0,left:0,right:n.clientWidth||o.clientWidth,width:n.clientWidth||o.clientWidth,bottom:n.clientHeight||o.clientHeight,height:n.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(e)},s.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100}),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},s.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==n||r==o||r<n!=r<o)return!0}},s.prototype._rootIsInDom=function(){return!this.root||l(t,this.root)},s.prototype._rootContainsTarget=function(e){return l(this.root||t,e)&&(!this.root||this.root.ownerDocument==e.ownerDocument)},s.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},s.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=s,window.IntersectionObserverEntry=r}function i(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}function r(t){this.time=t.time,this.target=t.target,this.rootBounds=h(t.rootBounds),this.boundingClientRect=h(t.boundingClientRect),this.intersectionRect=h(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,o=this.intersectionRect,i=o.width*o.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function s(t,e){var n,o,i,r=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout(function(){n(),i=null},o))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function c(t,e,n,o){"function"==typeof t.addEventListener?t.addEventListener(e,n,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function a(t,e,n,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function u(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function h(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function f(t,e){var n=e.top-t.top,o=e.left-t.left;return{top:n,left:o,height:e.height,width:e.width,bottom:n+e.height,right:o+e.width}}function l(t,e){for(var n=e;n;){if(n==t)return!0;n=d(n)}return!1}function d(e){var n=e.parentNode;return 9==e.nodeType&&e!=t?i(e):n&&11==n.nodeType&&n.host?n.host:n&&n.assignedSlot?n.assignedSlot.parentNode:n}}()},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o={root:null,rootMargin:"0px 0px 0px 0px",threshold:[0]},i=[],r=0;function s(){return intersectionObserver=new IntersectionObserver(function(t){for(var e,n,o,r=0;r<t.length;r++)(o=(n=(e=t[r]).target.handlerId)>=0&&i[n])&&e.intersectionRatio>0&&(o.call(this,e),o.onlyOne&&(i[n]=null))},o),intersectionObserver}function c(t,e,o){if(!("object"===n(t)&&t instanceof window.HTMLElement))throw new TypeError("the first param must be an HTML Element");if("function"!=typeof e)throw new TypeError("the second param callback must be a function");null==intersectionObserver&&s(),intersectionObserver.observe(t),t.handlerId=r,e.onlyOne=o,i[r++]=e}intersectionObserver=null;var a={config:function(t){if(t&&"object"===n(t))for(var e in t)o[e]=t[e]},expose:function(t,e,n){c(t,function(){window.NTESAntAnalysis&&window.NTESAntAnalysis.sendData(e)},n)},on:function(t,e){c(t,e)},once:function(t,e){c(t,e,!0)},off:function(t){!function(t){null==intersectionObserver&&s(),intersectionObserver.unobserve(t),intersectionObserver[t.handlerId]=null}(t)}};t.exports=a}])});